<p-dialog
  [visible]="visible()"
  (visibleChange)="onVisibleChange($event)"
  [modal]="true"
  [closable]="true"
  [dismissableMask]="true"
  [draggable]="false"
  [resizable]="false"
  [breakpoints]="{ '960px': '90vw', '640px': '96vw' }"
  styleClass="publish-popup"
  (onHide)="onCancel()"
  [style]="{ width: '520px' }"
>
  <ng-template pTemplate="header">
    @if (!publishResponse()) {
      –ì–æ—Ç–æ–≤—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å?
    } @else {
      –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ üéâ
    }
  </ng-template>

  <div class="content">
    @if (!publishResponse()) {
      <p class="text">
        –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –æ–Ω–ª–∞–π–Ω, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π —Å
        –∫–ª–∏–µ–Ω—Ç–∞–º–∏. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞.
      </p>
    } @else {
      <p class="text">
        –í–∞—à–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ—ë –∫–ª–∏–µ–Ω—Ç–∞–º:
      </p>
      <div class="short-link">
        <input class="short-link-input" [value]="publishResponse()?.link" readonly />
        <p-button label="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å" (onClick)="copyLink()" />
      </div>
    }
  </div>

  <ng-template pTemplate="footer">
    <div class="actions">
      @if (!publishResponse()) {
        <p-button
          label="–û—Ç–º–µ–Ω–∞"
          severity="secondary"
          [text]="true"
          (onClick)="onCancel()"
          [disabled]="loading()"
        />
        <p-button
          [label]="loading() ? '–ü—É–±–ª–∏–∫—É–µ–º‚Ä¶' : '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å'"
          (onClick)="onPublish()"
          [loading]="loading()"
          [disabled]="loading()"
        />
      } @else {
        <p-button label="–ó–∞–∫—Ä—ã—Ç—å" (onClick)="onCancel()" />
      }
    </div>
  </ng-template>
</p-dialog>
